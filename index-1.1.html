<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">
    <title>360 view || House-1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>

html, body, h1, h2, h3, h4, h5, h6, p, ul, li, button {
  padding: 0;
  margin: 0;
  overscroll-behavior:none;
}
::-webkit-scrollbar {
  display: none;
}

canvas {
    z-index: -1;
}

h3 {
    margin-left: calc(100% - 87%) !important;
    color: whitesmoke;
}
html, body, .flexbox {
  width: 100%;
  height: 100%;
}

body {
  color: #2f2f2f;
  background: #2f2f2f;
  font-family: Raleway, sans-serif;
  font-size: 16px;
  left: 0;
  top: 0;
  margin: 0;
}

.out-box {
    position: fixed;
    left:0;
    top:0;
    height: 100%;
    width: 100%;
    background:none;
   cursor: grab;
}
.out-box:active {
  cursor: grabbing;
}


.chat-box {
  background-color: #1b80f3;
  margin: 0;
  width: 100%;
  height: 75%;
  right: 10px;
  bottom:10px;
  position: absolute;
  max-height: calc(100% - 40px);
  max-width: calc(100% -40px);
  display: none;
  flex-direction: column;
  border-radius: 13px;
  box-shadow: 0 5px 8px rgba(0, 0, 0, 0.3);
  z-index: 1000;
cursor:default;
}
   .chat-box-header {
    width: 100%;
    border-radius: 10px 10px 0 0;
    padding: 20px 15px;
    background: -webkit-linear-gradient(90deg,#06c 0,#2182df 100%);
    /*border-bottom: solid 1px #cfcfcf;*/
    box-sizing: border-box;
  }
  .chat-box-body {
    height: 100%;
    display: flex;
    overflow: auto;
    border:1px solid #cfcfcf;
    border-radius: 10px 10px 0 0;
    background: url('chat1.png');
    background-color: #fff;
    background-repeat: no-repeat;
    background-position: center;
    background-size:40%;
    display: flex;
    flex-direction: column;
  }
    #chat_messages {
      width: 100%;
      padding: 20px 15px;
      margin-top: auto;
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      z-index: 100;
    }
      .message {
        width: 80%;
        padding: 20px 15px;
        margin: 2px 0;
        overflow: hidden;
        border-radius: 13px;
        transition: height 0.3s ease-in-out;
      
      }
      .my-message {
        color: #fff;
        background-color: #006ae3;
        align-self: flex-end;
      }
      .other-message {
        background-color: #e2e2e2;
      }
      .profile {
        margin: 2px 0;
        overflow: hidden;
        transition: height 0.3s ease-in-out;
      }

    
      
      .my-profile {
        color: #afafaf;
        align-self: flex-end;
      }
      .other-profile {
        color: #afafaf;
      }
    

  #typing {
    color: #afafaf;
    width: 100%;
    height: 0;
    padding: 0 15px;
    overflow: hidden;
    box-sizing: border-box;
    opacity: 0;
    transition: 0.3s height ease-in-out, 0.3s opacity ease-in-out;
  }
  #typing span:not(.n) {
      background-color: #afafaf;
      width: 10px;
      height: 10px;
      margin-top: 20px;
      display: inline-block;
      border-radius: 50%;
      &:nth-child(1) {
        animation: typing 1.2s infinite;
      }
      &:nth-child(2) {
        animation: typing 1.2s infinite 0.1s;
      }
      &:nth-child(3) {
        animation: typing 1.2s infinite 0.2s;
      }
    }
  
   .chat-box-footer {
    width: 100%;
    padding: 20px 15px;
    border-top: solid 1px #cfcfcf;
    background: #fff;
    border-radius: 0 0 10px 10px;
    box-sizing: border-box;
    display: flex;
    z-index: 1000;
   }
     #chat_input {
      color: #2f2f2f;
      font-family: Raleway, sans-serif;
      font-size: 16px;
      background-color: #d2d2d2;
      width: 100%;
      height: 40px;
      max-height: 120px;
      border: none;
      padding: 10px 15px;
      resize: none;
      box-sizing: border-box;
      border-radius: 13px;
      transition: 0.3s background-color;
     z-index: 100;
     outline: none;
    }
     #send {
      background: none;
      border: none;
      margin-left: 10px;
      padding: 5px;
      cursor: pointer;
      border-radius: 50%;
    }
 

@media (min-width: 480px) {
  .chat-box {
    width: 480px;
  }
  #img1 {
    min-width: 100% !important;
  }
  #div1 p {
    font-size:22px !important;
  }

     #menu-1 {
  position: absolute;
  height: 200px;
  width: 78%;
  left: 50px;
  top:93%;
  background: transparent;
  border:none;
  display: none;
 cursor:pointer;

 }
 #menu-1 span {
  display: block;
  padding: 14px;
  color:white;
  background: #b56e00;
  opacity:0.7;
  text-align: center;
  font-family: 'Times New Roman', Times, serif;
 }

  #google-map {
  position: absolute;
  left: 0;
  margin-top:0px;
  height: 100%;
  width: 0;
  max-width: 40%;
  /*border:2px solid whitesmoke;*/
  overflow: hidden;
  border-radius: 0 10px 10px 0;
  z-index: 10000;
  transition: width 1000;
  cursor:pointer;
}
}
@media (max-width: 480px) {
  .chat-box {
   right: 0;
   bottom: 0;
  }
  #img1 {
    min-width: 100% !important;
  }
  #div1 {
    top: 23px !important;
  }
  #div1 p {
    font-size:15px !important;
  }

   #div2 {
  position:absolute;
  right: 20px !important;
  top:-54px;
  background: transparent;
  height: 30px;
  width: 30px;
 cursor:pointer;

 }

   #menu-1 {
  position: absolute;
  height: 200px;
  width: 78%;
  left: 50px;
  top:93%;
  background: transparent;
  border:none;
  display: none;
 cursor:pointer;

 }
 #menu-1 span {
  display: block;
  padding: 14px;
  color:white;
  background: #b56e00;
  opacity:0.5;
  text-align: center;
 }

  #google-map {
  position: absolute;
  left: 0;
  bottom: 0;
  margin-top:0px;
  height: 0%;
  width: 100%;
  max-width: 100%;
  /*border:2px solid whitesmoke;*/
  overflow: hidden;
  border-radius: 10px 10px 10px 10px;
  z-index: 10000;
  transition: all 0.4s ease;
 cursor:pointer;

}
}

@keyframes typing {
  0% { transform: translateY(0px); }
  33.3333% { transform: translateY(-5px); }
  66.6667% { transform: translateY(5px); }
  100% { transform: translateY(0px); }
}

button::-moz-focus-inner {
  border-style: none;
  padding: 0;
}

button {
  outline: none;
}

h3 > small {
  color: #afafaf;
  font-weight: normal;
}
i {
    position: absolute;
    margin:10px;
    left:10px;
    top:5px;
    font-size: 30px;
    color: whitesmoke;
}

#limk {
  display: none;
  background: #b56e00;
  margin: 0 40px;
  padding: 0.625rem 5rem;
  position: relative;
  border-bottom-left-radius: 25px;
  border-bottom-right-radius: 25px;
  cursor: pointer;
  border:none;
  z-index: 1000;
}
#limk:after,
#limk:before {
  content: '';
  height: 20px;
  width: 20px;
  background: #b56e00;
  position: absolute;
  top: 0;
  right: -20px;
  z-index: 1;
  border:none;
}
#limk:before {
  right: auto;
  left: -20px;
}
#limk span:after,
#limk span:before {
  content: '';
  height: 40px;
  width: 40px;
  background: transparent;
  position: absolute;
  top: 0;
  right: -40px;
  z-index: 2;
  border-radius: 50%;
  border:none !important;
}
#limk span:before {
  right: auto;
  left: -40px;
}
 #div1 {
  position: absolute;
  left: 50%;
  top: 23px;
  transform: translate(-50%, -50%);
  z-index: 1000;
 cursor:pointer;
 }

 #div1 img {
  width: 350px;
  z-index: 10;
  margin:0;
  top:0 !important;
 }
 #div1 p {
  z-index: 10000;
  font-size: 20px;
  position: absolute;
  text-align: center;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
  color: whitesmoke;
  font-family: 'Times New Roman', Times, serif;
 }
 #div1 #menu-down {
  z-index: 0;
  font-size: 30px;
  position: absolute;
  text-align:right;
  right:40px !important;
  top:0px !important;
  color: black;
  
 }
 #message-delek {
  position: absolute;
  right: 20px;
  bottom: 20px;
  height: 60px;
  width: 60px;
  background: -webkit-linear-gradient(90deg,#06c 0,#2182df 100%);
  border-radius: 50%;
  z-index: 1000;
	 cursor:pointer;
 }
 #comments {
  left:-1px;
 }
 #div2 {
  position:absolute;
  right: 15px;
  top:-54px;
  background: transparent;
  height: 30px;
  width: 30px;
	 cursor:pointer;
 }
 #div2 i {
  position: relative;
  left:-4px;
  top:-4px;
  color: #006ae3;
  font-size: 40px;
  z-index: 10000;
 }

 #menu-1 span:hover {
  color:#b56e00;
  background: whitesmoke;
 }


  #delek {
    position: absolute;
    right: 40px;
    top: 40px;
    height: 250px;
    max-width: calc(100%-90%);
    max-height: calc(100%-10%);
    background-color: transparent;
    z-index:100;
  }
  #delek #link {
    left: 40%;
    border-radius: 50%;
    position: relative;
    display: block;
    margin: 10px;
    height: 42px;
    width: 42px;
    background:rgba(255, 253, 253, 0.3);
    cursor:pointer;

  }
  #delek .link2:hover { 
    background:rgba(255, 253, 253, 1) !important;
  }
  #delek #link i {
    position: relative;
    font-size: 20px;
    left:0;
    top:0;
    transform: translate(-50% -50%);
    color: black;
    opacity: 0.7;
  }
  .cardboard i{
    left:-2px !important;
  }
  .expand i{
    left: 2px !important;
  }
  .facebook i{
    left: 3px !important;
  }
  .instagram i{
    left: 2px !important;
  }
  .bars i{
    left: 2px;
    top:1px !important;
    color:whitesmoke !important;
    font-size: 25px !important;
  }
  .bars {
    height: 45px !important;
    width: 45px !important;
    border:2px solid whitesmoke;
  }
  .rotate img {
    position: relative;
    left:6px !important;
    top:3px !important;
  }
  .voice img {
    position: relative;
    left:3px !important;
    top:3px !important;
    opacity: 0.7;
  }
 
#last-span {
    border-radius: 0 0 10px 10px;
}

/*###############################*/

.btn, .btn-1, .btn-1-1, .btn-3, .btn-4, .btn-5, .btn-6  {
    text-transform: uppercase;
    text-decoration: none;
    padding: 30px 30px;
    border-radius: 50%;
    display: inline-block;
    border-radius: 50%;
    transition: all .2s;
    position: absolute;
    border:7px solid white;
    background: transparent;
}
	    .btn i, .btn-2 i, .btn-1 i, .btn-1-1 i, .btn-3 i, .btn-4 i, .btn-5 i, .btn-6 i  {
 cursor:pointer;
}
.btn-2 {
  text-transform: uppercase;
    text-decoration: none;
    padding: 50px 50px;
    border-radius: 50%;
    display: inline-block;
    border-radius: 50%;
    transition: all .2s;
    position: absolute;
    border:10px solid white;
    background: transparent;
}
.btn-2 i {
  margin:5px !important;
}
.btn-1, .btn-3,.btn-5,.btn-6 {
  visibility: hidden;
 /* display: none;*/
}
.btn-6 {
  padding: 40px 40px !important;
  border:10px solid white !important;
}
.btn-6 i {
  font-size: 50px !important;
  margin:5px !important;
}

.btn-3 {
  padding: 50px 50px !important;
  border:10px solid white !important;
}
.btn-3 i {
  font-size: 70px !important;
  margin:5px !important;
}
.btn-4 {
  padding: 70px 70px !important;
  border:20px solid white !important;
  visibility: hidden;
  /*display: none;*/

}

.btn-4 i{
/* display: none !important;*/
font-size:130px !important;
background: transparent !important;
color:transparent !important;
}

.btn-5 {
  padding: 70px 70px !important;
  border:20px solid white !important;
}
.btn-5 i{
 /* display: none !important;*/
font-size:130px !important;
background: transparent !important;
color:transparent !important;
}
.btn-1-1 {
  padding: 40px 40px !important;
  border:7px solid white !important;
}
.btn-1-1 i {
 font-size: 50px !important;
  margin:5px !important;
}
.btn::after {
    content: "";
    display: inline-block;
    height: 100%;
    width: 100%;
    border-radius: 50%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    transition: all .4s;
    animation: moveInBottom 2s ease-out infinite;
}
.btn-2::after {
    content: "";
    display: inline-block;
    height: 100%;
    width: 100%;
    border-radius: 50%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    transition: all .4s;
    animation: moveInBottom 2s ease-out infinite;
}

.btn-white {
   /* background-color: #fff;*/
    color: #777;
}

.btn-white::after {
    background-color: #fff;
}

.btn i {
 font-size: 45px;
 margin: 0;
 padding: 0;
 color:#fff;
}
.btn-2 i {
 font-size: 68px;
 margin: 0;
 padding: 0;
 color:#fff;
}

@keyframes moveInBottom {
    0% {
        opacity: 1;
       /* transform: translateY(30px);*/
    }

    100% {
        opacity: 0;
       /* transform: translateY(0px);*/
        transform: scaleX(2.0) scaleY(2.1);
    }
}

.label {
  text-align: center;
  width: 460px;
  height: 260px;
 /* border: 1px solid white;*/
 border: none;
  border-radius: 5px;
 /* background: rgba( 0, 0, 0, .6 );*/
}
.label2 {
  text-align: center;
  width: 430px;
  height: 0px;
 border: none;
  border-radius: 5px;
}
.anno {
  width: 40px;
  height: 40px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  /*visibility: hidden;*/
  display: none;
}
.anno p {
  font-size: 30px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}

.anno2 {
  width: 50px;
  height: 50px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  /*visibility: hidden;*/
  display: none;
}
.anno2 p {
  font-size: 35px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}

.anno3 {
  width: 50px;
  height: 50px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  visibility: visible;
  display: none;

}
.anno3 p {
  font-size: 35px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}

.anno4 {
  width: 70px;
  height: 70px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  visibility: visible;
  display: none;

}
.anno4 p {
  font-size: 45px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}

.anno5 {
  width: 50px;
  height: 50px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  /*visibility: hidden;*/
  display: none;

}
.anno5 p {
  font-size: 35px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}
.anno6 {
  width: 50px;
  height: 50px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  /*visibility:hidden;*/
  display: none;

}
.anno6 p {
  font-size: 35px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}
.anno7 {
  width: 50px;
  height: 50px;
  background: rgba( 0, 0, 0, .6 );
  border-radius: 50%;
  border:3px solid white;
  /*visibility:hidden;*/
  display: none;

}
.anno7 p {
  font-size: 35px;
  color:white;
  text-align: center;
  padding-top:0px;
  position: relative;
  left:0;
  top:0;
  transform: translate(0%,-75%);
}
.gate {
  height: 780px;
  width: 280px;
  background: transparent; 
  visibility: hidden;
  /*display: none;*/

}
.gate6 {
  height: 840px;
  width: 300px;
  background:transparent; 
  visibility: hidden;
  /*display: none;*/

}
.gate7 {
  height: 1160px;
  width: 520px;
  background:transparent; 
  visibility: hidden;
  /*display: none;*/

}
.gate2 {
  height: 160px;
  width: 400px;
  background: transparent;
  visibility: hidden;
  /*display: none;*/

}
.gate3 {
  height: 1000px;
  width: 400px;
  background: transparent; 
  visibility: hidden;
  /*display: none;*/

}
.outdoor {
  height: 1160px;
  width: 520px;
  background: transparent; 
}
.outdoor_2 {
  height: 1130px;
  width: 420px;
  background: transparent; 
}
.outdoor_3 {
  height: 1280px;
  width: 470px;
  background: transparent;
  visibility: hidden;
  /*display: none;*/

}
#fps {
  position: absolute;
  left:10px;
  top:10px;
}

#google-map iframe {
  height: 100%;
  width: 100%;
}

#google-map #map-exit {
  position: absolute;
  right: 10px;
  top: 10px;
  z-index: 1000;
  height: 40px;
  width: 40px;
  background: whitesmoke;
  opacity: 0.8;
  border-radius: 50%;
  border:2px solid white;
  text-align: center;
}
#map-exit i {
  color:black;
  text-align: center;
  left:27%;
  top:30%;
  transform: translate(-50%,-50%);
}

#map {
    width: 100%;
  height: 100%;
  display: block;
}
#map a {
  display: none !important;
}
#map .gmnoprint {
  display: none !important;
}
#map .gm-style-cc {
  display: none !important;
}

#chat-img {
  position: absolute;
  top:15px;
  left:20px;
  margin:0;
}
#map-change {
  position: absolute;
  left: 10px;
  top:10px;
  z-index: 10000;
  border:2px solid white;
  border-radius: 5px;
  outline: none;
  height: 30px;
  width: 100px;
  background: white;
  color:black;
  opacity: 0.8;
	cursor:pointer;
}
    </style>
</head>
<body>
  
<script type="importmap">
  {
    "imports": {
    "three": "https://unpkg.com/three/build/three.module.js",
    "@googlemaps/three": "https://unpkg.com/@googlemaps/three/dist/index.esm.js",
    "GLTFLoader":"https://unpkg.com/three/examples/jsm/loaders/GLTFLoader.js",
    "OrbitControls":"https://unpkg.com/three/examples/jsm/controls/OrbitControls.js"
    
    }
  }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>

  <script src="extras/jquery.min.1.7.js"></script>            

  <script type="module">
  import * as THREE from "https://cdn.skypack.dev/three@0.136.0";
import {
CSS3DRenderer,
CSS3DObject
} from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/renderers/CSS3DRenderer.js';
import {
  StereoEffect
  } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/effects/StereoEffect.js';
window.onload=function() {


var scene = new THREE.Scene();
var camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 1, 1000);
camera.position.set(10, 10, 10);
camera.target = new THREE.Vector3( 0, 0, 0 );
var renderer = new THREE.WebGLRenderer({
antialias: false,
precision: "lowp",
alpha:false,
stencil:false,
powerPreference:"low-power",
depth:false,
preserveDrawingBuffer: true  

});

renderer.useLegacyLights = false;
renderer.xr.enabled = true;
renderer.xr.setReferenceSpaceType( 'local' );
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(1);
document.body.appendChild(renderer.domElement);

var labelRenderer = new CSS3DRenderer();
//labelRenderer.setPixelRatio(0.5);
labelRenderer.setSize(innerWidth, innerHeight);
labelRenderer.domElement.style.position = 'absolute';
labelRenderer.domElement.style.top = '0px';
document.getElementsByClassName("out-box")[0].appendChild(labelRenderer.domElement);


var effect = new StereoEffect(renderer);
effect.setSize(window.innerWidth, window.innerHeight);
/*var effectHUD = new StereoEffect(labelRenderer);
effectHUD.setSize(window.innerWidth, window.innerHeight);*/

/*var mesh77 = new THREE.Mesh(
  new THREE.PlaneGeometry( 10, 10, 10, 10 ),
  new THREE.MeshBasicMaterial({ map: THREE.ImageUtils.loadTexture('arrow.png')}))
  mesh77.position.set(0,0,0);
  scene.add(mesh77);*/

  var texture2 = THREE.ImageUtils.loadTexture('chevron.png');
//texture2.minFilter = THREE.LinearFilter; // Ekle, resmin daha iyi görünmesini sağlar.

var material2 = new THREE.MeshBasicMaterial({ map: texture2 });

/*var mesh78 = new THREE.Mesh(new THREE.PlaneGeometry(1, 1, 1, 1), material2);
mesh78.position.set(10, 10, 9);
mesh78.rotation.y=0.5;
scene.add(mesh78);*/

var texture = THREE.ImageUtils.loadTexture('chevron.png');
texture.minFilter = THREE.LinearFilter;

var material = new THREE.MeshBasicMaterial({ map: texture, transparent: true, opacity: 1 });

var radius = 3;
var segments = 32; // Dairenin kenar sayısı
var geometry = new THREE.CircleGeometry(radius, segments);

var mesh77 = new THREE.Mesh(geometry, material);
mesh77.position.set(9, 10, 5);
mesh77.rotation.y=0.5;
mesh77.scale.set(0.1,0.1,0.1);
scene.add(mesh77);
console.log(mesh77.scale.x);

var mesh78 = new THREE.Mesh(geometry, material);
mesh78.position.set(14, 10, 9.9);
mesh78.rotation.y=-0.9;
mesh78.scale.set(0.06,0.06,0.06);
scene.add(mesh78);

var initialScale = 0.1; // Başlangıç boyutu
var targetScale = 0.12; // Hedef boyutu
var scaleSpeed = 0.005; // Boyut değiştirme hızı

var growing = true; // Mesh büyüyor mu?

window.setInterval(function() {
  // Büyütme ve küçültme animasyonu
  if (growing) {
    mesh77.scale.x += scaleSpeed;
    mesh77.scale.y += scaleSpeed;
    mesh78.scale.x += scaleSpeed;
    mesh78.scale.y += scaleSpeed;
    if (mesh77.scale.x >= targetScale) {
      growing = false;
    }
  } else {
    mesh77.scale.x -= scaleSpeed;
    mesh77.scale.y -= scaleSpeed;
    mesh78.scale.x -= scaleSpeed;
    mesh78.scale.y -= scaleSpeed;
    if (mesh77.scale.x <= initialScale) {
      growing = true;
    }
  }
},100);

// Video elementini oluşturalım ve video dosyasını yükleyelim
var video = document.createElement('video');
video.src = '360/karasu.mp4'; // Video dosyanızın yolu buraya gelecek
video.loop = true;
video.muted = true; // Dikkat: otomatik ses çıkışı engellemek için video sesini kapatıyoruz
video.play();

// Video texture oluşturalım ve materyale ekleyelim
var texture3 = new THREE.VideoTexture(video);
//texture3.minFilter = THREE.LinearFilter;

var material3 = new THREE.MeshBasicMaterial({ map: texture3, transparent: true, opacity: 1 });

// Dairenin özelliklerini belirleyelim
var radius = 3;
var segments = 32; // Dairenin kenar sayısı
var geometry3 = new THREE.PlaneGeometry(1, 1);

// Mesh'i oluşturup sahneye ekleyelim
var mesh79 = new THREE.Mesh(geometry3, material3);
mesh79.position.set(8, 9.92, 8);
mesh79.rotation.y = -0;
mesh79.scale.set(1.4, 0.8, 0.5);
scene.add(mesh79);
console.log(mesh79.rotation.y);

function onMouseClick(event) {
  // Fare tıklamasının koordinatlarını alalım
  var mouse = new THREE.Vector2();
  mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
  mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

  // Fare tıklamasını sahnede gerçek bir 3B noktaya dönüştürelim
  var raycaster = new THREE.Raycaster();
  raycaster.setFromCamera(mouse, camera);

  // Fare tıklamasının sahnede vurduğu nesneleri kontrol edelim
  var intersects = raycaster.intersectObjects(scene.children);

  // Eğer tıklama sonucunda nesneler varsa, mesh77 nesnesine tıklandı mı kontrol edelim
  if (intersects.length > 0) {
    for (var i = 0; i < intersects.length; i++) {
      if (intersects[i].object === mesh77) {
        // Burada mesh77'ye tıklandı. İstediğiniz eylemi burada gerçekleştirebilirsiniz.
        alert("Mesh77'e tıklandı!");
        break; // Eğer birden fazla aynı mesh varsa, sadece bir tanesini tıklanmış olarak kabul edelim.
      }
      else if(intersects[i].object===mesh78) {
        alert("mesh78'e tıklandı");
        break;
      }
    }
  }
}
window.addEventListener('click', onMouseClick, false);


document.getElementsByClassName("cardboard")[0].onclick=function() {
	  document.exitFullscreen();
	window.setTimeout(function() {
	const sessionInit = { optionalFeatures: [ 'local-floor', 'bounded-floor', 'hand-tracking', 'layers' ] };
					navigator.xr.requestSession( 'immersive-vr', sessionInit ).then(async function(session) {
						await renderer.xr.setSession( session );
					});

		},1000);
}

renderer.xr.addEventListener('sessionend', () => {
  window.location.reload();
});

document.getElementsByClassName("camera")[0].onclick=function() {

var canvas_download=document.createElement("a");
canvas_download.href=renderer.domElement.toDataURL("image/jpeg");
canvas_download.download="house-1.jpeg";
canvas_download.click();
}

var isUserInteracting = false,
onMouseDownMouseX = 0, onMouseDownMouseY = 0,
lon = 0, onMouseDownLon = 0,
lat = 0, onMouseDownLat = 0,
phi = 0, theta = 0;

var onclickPointerX,onclickPointerY,onclickLon,onclickLat;
var image2='360/jpeg-optimizer_vecteezy_360-panorama-view-of-a-black-minimalist-interior-of-a-modern-home-in-3d-rendering_2081472.jpg';
var image1="360/jpeg-optimizer_vecteezy_360-panorama-view-of-a-black-minimalist-interior-of-a-modern-home-in-3d-rendering_2081474.jpg";
var image3="360/jpeg-optimizer_vecteezy_spherical-360-seamless-panorama-projection-of-an-interior-modern-design-room-in.jpg";
var image4="360/jpeg-optimizer_lavabo.jpg";



var sayac1=0;
var mesh1,mesh2,mesh3,mesh4;
var target1,target2;
var fov1=0;
var check_fov=false;

var audio_check=false;

document.onclick=function() {
  if(audio_check==false) {
    audio_1.play();
    audio_check=true;
  }
}

if(screen.availWidth >=992) {

document.addEventListener( 'pointerdown', onDocumentMouseDown, false );
document.addEventListener( 'pointermove', onDocumentMouseMove, false );
document.addEventListener( 'pointerup', onDocumentMouseUp, false );
document.addEventListener( 'wheel', onDocumentMouseWheel, false );

}
else {

document.addEventListener( 'touchstart', onDocumentMouseDown2, false );
document.addEventListener( 'touchmove', onDocumentMouseMove2, false );
document.addEventListener( 'touchend', onDocumentMouseUp2, false );
document.addEventListener( 'wheel', onDocumentMouseWheel2, false );
}

var light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(20, 20, 30);
scene.add(light);

var light2 = new THREE.DirectionalLight(0xffffff, 1);
light2.position.set(-7.5, 3.9, -27);
scene.add(light2);
scene.add(new THREE.AmbientLight(0xffffff, 1));


var box = new THREE.Mesh(new THREE.BoxBufferGeometry(0, 0, 0), new THREE.MeshLambertMaterial({
color: 0x0088ff,
wireframe: false
}));
scene.add(box);




var sayac=0;



load4(image3);


function load4(image3) {
       // document.getElementsByClassName("container")[0].style.display="flex";
  var geometry = new THREE.SphereGeometry( 500, 40, 30 );
geometry.scale( - 1.5, 1.5, 1.5 );



var material = new THREE.MeshBasicMaterial({
  map: new THREE.TextureLoader().load( image3, function (texture) {
  // Yükleme tamamlandığında çalışacak işlev
  console.log('Texture loaded successfully:'+ texture);
    document.getElementsByClassName("container")[0].style.display="none";
  new THREE.TextureLoader().load( image1);
new THREE.TextureLoader().load( image2);
new THREE.TextureLoader().load( image4);
},
function (xhr) {
  // Yükleme sırasında ilerleme raporları için çalışacak işlev
  var percentComplete = (xhr.loaded / xhr.total) * 100;
  console.log('Texture loading progress:'+ percentComplete + '%');
},
function (error) {
  // Yükleme sırasında bir hata oluşursa çalışacak işlev
  console.error('Error loading texture:'+ error);
} )
});

mesh3= new THREE.Mesh( geometry, material );
mesh3.material.transparent = true;
target1=mesh3;

/*
{
  map: new THREE.TextureLoader().load( image3, function (texture) {
  // Yükleme tamamlandığında çalışacak işlev
  console.log('Texture loaded successfully:'+ texture);
    document.getElementsByClassName("container")[0].style.display="none";
  new THREE.TextureLoader().load( image1);
new THREE.TextureLoader().load( image2);
new THREE.TextureLoader().load( image4);
},
function (xhr) {
  // Yükleme sırasında ilerleme raporları için çalışacak işlev
  var percentComplete = (xhr.loaded / xhr.total) * 100;
  console.log('Texture loading progress:'+ percentComplete + '%');
},
function (error) {
  // Yükleme sırasında bir hata oluşursa çalışacak işlev
  console.error('Error loading texture:'+ error);
} )
}

*/

scene.add(mesh3);



}

var audio_1=new Audio();
audio_1.src="Zimmer.mp3";


audio_1.onended=function() {
  this.currentTime = 0;
  audio_1.play();
}

async function came_fov() {
 await new Promise(function(resolve) {
   target1.material.opacity=1;


var fov_anim_2=window.setInterval(function() {
  target1.material.opacity-=0.1;
 if(target1.material.opacity<=0) {
    clearInterval(fov_anim_2);
    check_fov=true;
	
    resolve();
  }
},30);

 }); 
}

var pos = new THREE.Vector3(-6.3, 9.3, -6.3);
var normal = new THREE.Vector3(1, 0, 0);

var cNormal = new THREE.Vector3();
var cPos = new THREE.Vector3();
var m4 = new THREE.Matrix4();

var div = document.createElement('video');
div.className = 'label';
//div.textContent = '1';
div.src="360/karasu.mp4";
div.setAttribute("loop",true);
div.muted=true;
div.onloadeddata=function() {
div.play();
}
var label = new CSS3DObject(div);
label.position.copy(pos);
label.rotation.y = Math.PI * 0;
label.scale.set(0.025, 0.025, 1);
box.add(label);

var pos_web = new THREE.Vector3(23.2, 12.0, 3);
var div_web2 = document.createElement('video');
div_web2.className = 'label2';
//div_web.src="https://mbunalyapi.com";
div_web2.src="360/karasu.mp4";
div_web2.setAttribute("loop",true);
div_web2.muted=true;
div_web2.onloadeddata=function() {
div_web2.play()
}
var label = new CSS3DObject(div_web2);
label.position.copy(pos_web);
label.rotation.y = Math.PI * 1.5;
label.scale.set(0.025, 0.025, 1);
box.add(label);

var pos2 = new THREE.Vector3(9.1, 11.0, 20.5);

var div2=document.createElement("div");
div2.className="anno";
var text1=document.createElement("p");
text1.innerHTML="4";
div2.appendChild(text1);
var label2 = new CSS3DObject(div2);
label2.position.copy(pos2);
label2.rotation.y = Math.PI * 0.5;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

var div_anno_a=document.createElement("a");
div_anno_a.className="btn btn-1 btn-white";
var div_anno_i=document.createElement("i");
div_anno_i.className="fa-solid fa-chevron-down fa-shake";
div_anno_a.appendChild(div_anno_i);
var label2_a = new CSS3DObject(div_anno_a);
label2_a.position.copy(pos2);
label2_a.rotation.y = Math.PI * 0;
label2_a.scale.set(0.025, 0.025, 1);
box.add(label2_a);

var pos3 = new THREE.Vector3(-19.7, 5.7, -20);

var div3=document.createElement("div");
div3.className="gate";

var label3 = new CSS3DObject(div3);
label3.position.copy(pos3);
label3.rotation.y = Math.PI * 1.1;
label3.scale.set(0.025, 0.025, 1);
box.add(label3);

var pos3_2 = new THREE.Vector3(15, 4.7, -23);

var div3_2=document.createElement("div");
div3_2.className="gate6";

var label3 = new CSS3DObject(div3_2);
label3.position.copy(pos3_2);
label3.rotation.y = Math.PI * 0.615;
label3.scale.set(0.025, 0.025, 1);
box.add(label3);

div3_2.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="1px solid white";
}

div3_2.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}



var pos3_3 = new THREE.Vector3(3.8, 7.3, -55.1);

var div3_3=document.createElement("div");
div3_3.className="gate7";

var label3 = new CSS3DObject(div3_3);
label3.position.copy(pos3_3);
label3.rotation.y = Math.PI * 1;
label3.scale.set(0.025, 0.025, 1);
box.add(label3);

div3_3.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="3px solid white";
}

div3_3.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}



var pos_anno_6 = new THREE.Vector3(-5, 2.3, -5.0);

var div_anno_a_5=document.createElement("a");
div_anno_a_5.className="btn btn-5 btn-white";
var div_anno_i_5=document.createElement("i");
div_anno_i_5.className="fa-solid fa-chevron-down fa-shake";
div_anno_a_5.appendChild(div_anno_i_5);
var label2_a_5 = new CSS3DObject(div_anno_a_5);
label2_a_5.position.copy(pos_anno_6);
label2_a_5.rotation.x = Math.PI * 0.5;
label2_a_5.scale.set(0.025, 0.025, 1);
box.add(label2_a_5);

var div_anno_6=document.createElement("div");
div_anno_6.className="anno7";
var text_anno_6=document.createElement("p");
text_anno_6.innerHTML="7";
div_anno_6.appendChild(text_anno_6);
var label2 = new CSS3DObject(div_anno_6);
label2.position.copy(pos_anno_6);
label2.rotation.y = Math.PI * 0;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

div_anno_6.onpointerenter=function() {
this.style.border="3px solid red";
}
div_anno_6.onpointerleave=function() {
this.style.border="3px solid white";
}

var pos_anno = new THREE.Vector3(-15.7, 9.7, -15);

var div_anno_a_6=document.createElement("a");
div_anno_a_6.className="btn btn-6 btn-white";
var div_anno_i_6=document.createElement("i");
div_anno_i_6.className="fa-solid fa-door-open fa-shake";
div_anno_a_6.appendChild(div_anno_i_6);
var label2_a_6 = new CSS3DObject(div_anno_a_6);
label2_a_6.position.copy(pos_anno);
label2_a_6.rotation.y = Math.PI * 0;
label2_a_6.scale.set(0.025, 0.025, 1);
box.add(label2_a_6);

var div_anno_1=document.createElement("div");
div_anno_1.className="anno2";
var text_anno_1=document.createElement("p");
text_anno_1.innerHTML="3";
div_anno_1.appendChild(text_anno_1);
var label2 = new CSS3DObject(div_anno_1);
label2.position.copy(pos_anno);
label2.rotation.y = Math.PI * 0;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

div_anno_1.onpointerenter=function() {
this.style.border="3px solid red";
}
div_anno_1.onpointerleave=function() {
this.style.border="3px solid white";
}

var pos_anno_2 = new THREE.Vector3(3.8, 15.3, -13.1);


var div_anno_a_1=document.createElement("a");
div_anno_a_1.className="btn btn-1-1 btn-white";
var div_anno_i_1=document.createElement("i");
div_anno_i_1.className="fa-solid fa-chevron-down fa-shake";
div_anno_a_1.appendChild(div_anno_i_1);
var label2_a_1 = new CSS3DObject(div_anno_a_1);
label2_a_1.position.copy(pos_anno_2);
label2_a_1.rotation.y = Math.PI * 1;
label2_a_1.scale.set(0.025, 0.025, 1);
box.add(label2_a_1);

var div_anno_2=document.createElement("div");
div_anno_2.className="anno3";
var text_anno_2=document.createElement("p");
text_anno_2.innerHTML="1";
div_anno_2.appendChild(text_anno_2);
var label2 = new CSS3DObject(div_anno_2);
label2.position.copy(pos_anno_2);
label2.rotation.y = Math.PI * 0.5;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

div_anno_2.onpointerenter=function() {
this.style.border="3px solid red";
}
div_anno_2.onpointerleave=function() {
this.style.border="3px solid white";
}

var pos_anno_3 = new THREE.Vector3(48.0, 9.8, 8.9);

var div_anno_a_2=document.createElement("a");
div_anno_a_2.className="btn-2 btn-white";
var div_anno_i_2=document.createElement("i");
div_anno_i_2.className="fa-solid fa-chevron-down fa-shake";
div_anno_a_2.appendChild(div_anno_i_2);
var label2_a_2 = new CSS3DObject(div_anno_a_2);
label2_a_2.position.copy(pos_anno_3);
label2_a_2.rotation.y = Math.PI * 0.5;
label2_a_2.scale.set(0.025, 0.025, 1);
box.add(label2_a_2);

var div_anno_3=document.createElement("div");
div_anno_3.className="anno4";
var text_anno_3=document.createElement("p");
text_anno_3.innerHTML="2";
div_anno_3.appendChild(text_anno_3);
var label2 = new CSS3DObject(div_anno_3);
label2.position.copy(pos_anno_3);
label2.rotation.y = Math.PI * 0.9;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

div_anno_3.onpointerenter=function() {
this.style.border="3px solid red";
}
div_anno_3.onpointerleave=function() {
this.style.border="3px solid white";
}

var pos_anno_4 = new THREE.Vector3(39, 19.7, 22.2);

var div_anno_a_3=document.createElement("a");
div_anno_a_3.className="btn btn-3 btn-white";
var div_anno_i_3=document.createElement("i");
div_anno_i_3.className="fa-solid fa-chevron-down fa-shake";
div_anno_a_3.appendChild(div_anno_i_3);
var label2_a_3 = new CSS3DObject(div_anno_a_3);
label2_a_3.position.copy(pos_anno_4);
label2_a_3.rotation.y = Math.PI * 1.5;
label2_a_3.scale.set(0.025, 0.025, 1);
box.add(label2_a_3);

var div_anno_4=document.createElement("div");
div_anno_4.className="anno5";
var text_anno_4=document.createElement("p");
text_anno_4.innerHTML="5";
div_anno_4.appendChild(text_anno_4);
var label2 = new CSS3DObject(div_anno_4);
label2.position.copy(pos_anno_4);
label2.rotation.y = Math.PI * 1.5;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

div_anno_4.onpointerenter=function() {
this.style.border="3px solid red";
}
div_anno_4.onpointerleave=function() {
this.style.border="3px solid white";
}

var pos_anno_5 = new THREE.Vector3(-14, 3.7, 21.2);

var div_anno_a_4=document.createElement("a");
div_anno_a_4.className="btn btn-4 btn-white";
var div_anno_i_4=document.createElement("i");
div_anno_i_4.className="fa-solid fa-chevron-down fa-shake";
div_anno_a_4.appendChild(div_anno_i_4);
var label2_a_4 = new CSS3DObject(div_anno_a_4);
label2_a_4.position.copy(pos_anno_5);
label2_a_4.rotation.x = Math.PI * 0.5;
label2_a_4.scale.set(0.025, 0.025, 1);
box.add(label2_a_4);

var div_anno_5=document.createElement("div");
div_anno_5.className="anno6";
var text_anno_5=document.createElement("p");
text_anno_5.innerHTML="6";
div_anno_5.appendChild(text_anno_5);
var label2 = new CSS3DObject(div_anno_5);
label2.position.copy(pos_anno_5);
label2.rotation.y = Math.PI * 0;
label2.scale.set(0.025, 0.025, 1);
box.add(label2);

div_anno_5.onpointerenter=function() {
this.style.border="3px solid red";
}
div_anno_5.onpointerleave=function() {
this.style.border="3px solid white";
}

div3.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="1px solid white";
}

div3.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}

div_anno_i_6.onclick=async function() {
      document.getElementsByClassName("container")[0].style.display="flex";
document.getElementsByClassName("label")[0].style.height="0px";
document.getElementsByClassName("btn-1")[0].style.visibility="visible";
document.getElementsByClassName("btn-3")[0].style.visibility="hidden";
document.getElementsByClassName("btn-4")[0].style.visibility="visible";
document.getElementsByClassName("btn-5")[0].style.visibility="hidden";
document.getElementsByClassName("btn-1-1")[0].style.visibility="visible";
document.getElementsByClassName("btn-2")[0].style.visibility="visible";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="visible";
document.getElementsByClassName("outdoor")[0].style.visibility="visible";
document.getElementsByClassName("outdoor_2")[0].style.visibility="visible";
document.getElementsByClassName("outdoor_3")[0].style.visibility="hidden";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image3, function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";

  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );


camera.fov=60;
camera.updateProjectionMatrix();

}

var pos3_1 = new THREE.Vector3(9.1, 5.0, 21);

var div5=document.createElement("div");
div5.className="gate3";

var label5 = new CSS3DObject(div5);
label5.position.copy(pos3_1);
label5.rotation.y = Math.PI * 0.01;
label5.scale.set(0.025, 0.025, 1);
box.add(label5);

div5.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="3px solid white";

}

div5.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}

div_anno_i.onclick=async function() {
      document.getElementsByClassName("container")[0].style.display="flex";
document.getElementsByClassName("label")[0].style.height="260px";
document.getElementsByClassName("btn-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-1-1")[0].style.visibility="visible";
document.getElementsByClassName("btn-4")[0].style.visibility="hidden";
document.getElementsByClassName("btn-5")[0].style.visibility="hidden";
document.getElementsByClassName("btn-3")[0].style.visibility="hidden";
document.getElementsByClassName("btn-2")[0].style.visibility="visible";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="hidden";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor")[0].style.visibility="visible";
document.getElementsByClassName("outdoor_2")[0].style.visibility="visible";
document.getElementsByClassName("outdoor_3")[0].style.visibility="hidden";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image3,  function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";

  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );

camera.fov=60;
camera.updateProjectionMatrix();
}

var check=false;

var div_animation=window.setInterval(function() {
if(check==false) {
div2.style.height="30px";
div2.style.width="30px";
text1.style.fontSize="20px";
check=true;
}
else if(check==true) {
div2.style.height="40px";
div2.style.width="40px";
text1.style.fontSize="30px";
check=false;
}

},1000);

var div_animation_2=window.setInterval(function() {
if(check==false) {
div_anno_1.style.height="40px";
div_anno_1.style.width="40px";
text_anno_1.style.fontSize="30px";
check=true;
}
else if(check==true) {
div_anno_1.style.height="50px";
div_anno_1.style.width="50px";
text_anno_1.style.fontSize="35px";
check=false;
}

},1000);

var div_animation_3=window.setInterval(function() {
if(check==false) {
div_anno_2.style.height="40px";
div_anno_2.style.width="40px";
text_anno_2.style.fontSize="30px";
check=true;
}
else if(check==true) {
div_anno_2.style.height="50px";
div_anno_2.style.width="50px";
text_anno_2.style.fontSize="35px";
check=false;
}

},1000);


var div_animation_4=window.setInterval(function() {
if(check==false) {
div_anno_3.style.height="60px";
div_anno_3.style.width="60px";
text_anno_3.style.fontSize="40px";
check=true;
}
else if(check==true) {
div_anno_3.style.height="70px";
div_anno_3.style.width="70px";
text_anno_3.style.fontSize="45px";
check=false;
}

},1000);

var div_animation_5=window.setInterval(function() {
if(check==false) {
div_anno_4.style.height="40px";
div_anno_4.style.width="40px";
text_anno_4.style.fontSize="30px";
check=true;
}
else if(check==true) {
div_anno_4.style.height="50px";
div_anno_4.style.width="50px";
text_anno_4.style.fontSize="35px";
check=false;
}

},1000);

var div_animation_6=window.setInterval(function() {
if(check==false) {
div_anno_5.style.height="40px";
div_anno_5.style.width="40px";
text_anno_5.style.fontSize="30px";
check=true;
}
else if(check==true) {
div_anno_5.style.height="50px";
div_anno_5.style.width="50px";
text_anno_5.style.fontSize="35px";
check=false;
}

},1000);

var div_animation_7=window.setInterval(function() {
if(check==false) {
div_anno_6.style.height="40px";
div_anno_6.style.width="40px";
text_anno_6.style.fontSize="30px";
check=true;
}
else if(check==true) {
div_anno_6.style.height="50px";
div_anno_6.style.width="50px";
text_anno_6.style.fontSize="35px";
check=false;
}

},1000);

div2.onpointerenter=function() {
this.style.border="3px solid red";
}
div2.onpointerleave=function() {
this.style.border="3px solid white";
}

var pos4 = new THREE.Vector3(0, 35, -40);

var div4=document.createElement("div");
div4.className="gate2";

var label4 = new CSS3DObject(div4);
label4.position.copy(pos4);
label4.rotation.y = Math.PI * 1;
label4.scale.set(0.025, 0.025, 1);
box.add(label4);

div4.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="1px solid white";
}

div4.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}

var pos_outdoor = new THREE.Vector3(3.8, 7.3, -15.1);

var div_outdoor=document.createElement("div");
div_outdoor.className="outdoor";

var label_outdoor = new CSS3DObject(div_outdoor);
label_outdoor.position.copy(pos_outdoor );
label_outdoor.rotation.y = Math.PI * 1;
label_outdoor.scale.set(0.025, 0.025, 1);
box.add(label_outdoor );

div_outdoor.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="3px solid white";
}

div_outdoor.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}
div_anno_i_1.onclick=async function() { 
      document.getElementsByClassName("container")[0].style.display="flex";
document.getElementsByClassName("label")[0].style.height="0px";
document.getElementsByClassName("label2")[0].style.height="260px";
document.getElementsByClassName("btn-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-2")[0].style.visibility="hidden";
document.getElementsByClassName("btn-4")[0].style.visibility="visible";
document.getElementsByClassName("btn-5")[0].style.visibility="hidden";
document.getElementsByClassName("btn-1-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-3")[0].style.visibility="visible";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="hidden";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_2")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_3")[0].style.visibility="visible";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image1,  function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";
  
  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );


camera.fov=60;
camera.updateProjectionMatrix();

}

var pos_outdoor_2 = new THREE.Vector3(53.0, 6.8, 8.9);

var div_outdoor_2=document.createElement("div");
div_outdoor_2.className="outdoor_2";

var label_outdoor_2 = new CSS3DObject(div_outdoor_2);
label_outdoor_2.position.copy(pos_outdoor_2 );
label_outdoor_2.rotation.y = Math.PI * 0.5;
label_outdoor_2.scale.set(0.025, 0.025, 1);
box.add(label_outdoor_2 );

div_outdoor_2.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="3px solid white";
}

div_outdoor_2.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}
div_anno_i_2.onclick=async function() { 
      document.getElementsByClassName("container")[0].style.display="flex";
document.getElementsByClassName("label")[0].style.height="0px";
document.getElementsByClassName("label2")[0].style.height="0px";
document.getElementsByClassName("btn-1")[0].style.visibility="visible";
document.getElementsByClassName("btn-2")[0].style.visibility="hidden";
document.getElementsByClassName("btn-4")[0].style.visibility="hidden";
document.getElementsByClassName("btn-5")[0].style.visibility="hidden";
document.getElementsByClassName("btn-1-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-3")[0].style.visibility="hidden";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="visible";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_2")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_3")[0].style.visibility="hidden";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image4,  function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";
    
  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );

camera.fov=60;
camera.updateProjectionMatrix();

}

var pos_outdoor_3 = new THREE.Vector3(43, 12.7, 24.2);

var div_outdoor_3=document.createElement("div");
div_outdoor_3.className="outdoor_3";

var label_outdoor_3 = new CSS3DObject(div_outdoor_3);
label_outdoor_3.position.copy(pos_outdoor_3 );
label_outdoor_3.rotation.y = Math.PI * 0.5;
label_outdoor_3.scale.set(0.025, 0.025, 1);
box.add(label_outdoor_3 );

div_outdoor_3.onpointerenter=function() {
this.style.background="rgba( 255, 255, 255, .4 )";
this.style.border="3px solid white";
}

div_outdoor_3.onpointerleave=function() {
this.style.background="transparent";
this.style.border="none";
}

div_anno_i_3.onclick=async function() {
      document.getElementsByClassName("container")[0].style.display="flex";

document.getElementsByClassName("label")[0].style.height="260px";
document.getElementsByClassName("label2")[0].style.height="0px";
document.getElementsByClassName("btn-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-2")[0].style.visibility="visible";
document.getElementsByClassName("btn-4")[0].style.visibility="hidden";
document.getElementsByClassName("btn-3")[0].style.visibility="hidden";
document.getElementsByClassName("btn-1-1")[0].style.visibility="visible";
document.getElementsByClassName("btn-5")[0].style.visibility="hidden";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="hidden";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor")[0].style.visibility="visible";
document.getElementsByClassName("outdoor_2")[0].style.visibility="visible";
document.getElementsByClassName("outdoor_3")[0].style.visibility="hidden";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image3,  function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";

  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );

camera.fov=60;
camera.updateProjectionMatrix();

}

div_anno_i_4.onclick=async function() {
      document.getElementsByClassName("container")[0].style.display="flex";

document.getElementsByClassName("label")[0].style.height="0px";
document.getElementsByClassName("label2")[0].style.height="0px";
document.getElementsByClassName("btn-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-2")[0].style.visibility="hidden";
document.getElementsByClassName("btn-4")[0].style.visibility="hidden";
document.getElementsByClassName("btn-3")[0].style.visibility="hidden";
document.getElementsByClassName("btn-1-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-5")[0].style.visibility="visible";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_2")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_3")[0].style.visibility="hidden";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image2,  function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";

  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );

camera.fov=60;
camera.updateProjectionMatrix();

}

div_anno_i_5.onclick=async function() {
      document.getElementsByClassName("container")[0].style.display="flex";
document.getElementsByClassName("label")[0].style.height="0px";
document.getElementsByClassName("label2")[0].style.height="280px";
document.getElementsByClassName("btn-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-2")[0].style.visibility="hidden";
document.getElementsByClassName("btn-5")[0].style.visibility="hidden";
document.getElementsByClassName("btn-3")[0].style.visibility="visible";
document.getElementsByClassName("btn-1-1")[0].style.visibility="hidden";
document.getElementsByClassName("btn-4")[0].style.visibility="visible";
document.getElementsByClassName("btn-6")[0].style.visibility="hidden";
document.getElementsByClassName("gate")[0].style.visibility="hidden";
document.getElementsByClassName("gate6")[0].style.visibility="hidden";
document.getElementsByClassName("gate7")[0].style.visibility="hidden";
document.getElementsByClassName("gate3")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_2")[0].style.visibility="hidden";
document.getElementsByClassName("outdoor_3")[0].style.visibility="visible";
target1=mesh3;
await came_fov();
target1.material.opacity=1.0;
mesh3.material.map=new THREE.TextureLoader().load( image1,  function (texture) {
    console.log('Texture loaded successfully:'+ texture);
      document.getElementsByClassName("container")[0].style.display="none";

  },
  function (xhr) {
    var percentComplete = (xhr.loaded / xhr.total) * 100;
    console.log('Texture loading progress:'+ percentComplete + '%');
  },
  function (error) {
    console.error('Error loading texture:'+ error);
  } );

camera.updateProjectionMatrix();

}
window.addEventListener('resize', onWindowResize, false);


animate();




function onWindowResize() {

camera.aspect = window.innerWidth / window.innerHeight;

camera.updateProjectionMatrix();

renderer.setSize(window.innerWidth, window.innerHeight);

labelRenderer.setSize(window.innerWidth, window.innerHeight);

}

var google_map_check=false;
document.getElementById("google-map").onpointerdown=function() {
 google_map_check=true;
}
document.getElementById("google-map").onpointerleave=function() {
 google_map_check=false;
}

document.getElementById("chat-box").onpointerdown=function() {
 google_map_check=true;
}
document.getElementById("chat-box").onpointerleave=function() {
 google_map_check=false;
}

function onDocumentMouseDown( event ) {

  if(google_map_check==false) {

event.preventDefault();

isUserInteracting = true;

onclickPointerX = event.clientX;
onclickPointerY = event.clientY;

onclickLon = lon;
onclickLat = lat;
  }
}

function onDocumentMouseMove( event ) {

if ( isUserInteracting === true ) {

lon = ( onclickPointerX - event.clientX ) * 0.1 + onclickLon;
lat = ( event.clientY - onclickPointerY ) * 0.1 + onclickLat;

}

}

function onDocumentMouseUp( event ) {
isUserInteracting=false;


}

function onDocumentMouseWheel( event ) {

if(camera.fov<=60 && camera.fov>=16.25) {
camera.fov += event.deltaY * 0.015;
camera.updateProjectionMatrix();

}
else {
camera.fov=60;

}
}

/*########################################*/
let initialDistance = 0;
let currentDistance = 0;
let lastScaleRatio = 1; 

function onDocumentMouseDown2( event ) {

   if(google_map_check==false) {

    if (event.touches.length === 2) {
    const touch1 = event.touches[0];
    const touch2 = event.touches[1];
    initialDistance = calculateDistance(touch1.clientX, touch1.clientY, touch2.clientX, touch2.clientY);
  }

isUserInteracting = true;

onclickPointerX = event.touches[0].clientX;
onclickPointerY = event.touches[0].clientY;

onclickLon = lon;
onclickLat = lat;
   }
}

function onDocumentMouseMove2( event ) {

if ( isUserInteracting === true ) {

	  if (event.touches.length === 2) {
    const touch1 = event.touches[0];
    const touch2 = event.touches[1];
    currentDistance = calculateDistance(touch1.clientX, touch1.clientY, touch2.clientX, touch2.clientY);
    const scaleRatio = currentDistance / initialDistance;

    if (scaleRatio > lastScaleRatio) {
    if(camera.fov<=60 && camera.fov>=16.25) {
camera.fov += -166 * 0.02;
camera.updateProjectionMatrix();
    }
else {
camera.fov=60;

}
    } else if (scaleRatio < lastScaleRatio) {
	    if(camera.fov<=60 && camera.fov>=16.25) {
camera.fov += 166 * 0.02;
camera.updateProjectionMatrix();

}
else {
camera.fov=60;

}
    }

    lastScaleRatio = scaleRatio;
  }

lon = ( onclickPointerX - event.touches[0].clientX ) * 0.1 + onclickLon;
lat = ( event.touches[0].clientY - onclickPointerY ) * 0.1 + onclickLat;

}

}

	function calculateDistance(x1, y1, x2, y2) {
  const dx = x2 - x1;
  const dy = y2 - y1;
  return Math.sqrt(dx * dx + dy * dy);
}

function onDocumentMouseUp2( event ) {

isUserInteracting = false;
}

function onDocumentMouseWheel2( event ) {

if(camera.fov<=60 && camera.fov>=16.25) {
camera.fov += event.deltaY * 0.02;
camera.updateProjectionMatrix();

}
else {
camera.fov=60;

}
}
var rotate_check=false;

document.getElementsByClassName("rotate")[0].onclick=function() {
  if(rotate_check==false) {
    document.getElementById("img-rotate").setAttribute("src","tap.png");
    rotate_check=true;
  }
  else {
    document.getElementById("img-rotate").setAttribute("src","rotation.png");
    rotate_check=false;
  }
}

var voice_check=false;

document.getElementsByClassName("voice")[0].onclick=function() {
  if(voice_check==false) {
    document.getElementById("img-rotate-2").setAttribute("src","no-music-sign.png");
    audio_1.pause();
    voice_check=true;
  }
  else {
    document.getElementById("img-rotate-2").setAttribute("src","musical-note.png");
    audio_1.play();
    voice_check=false;
  }
}

var alpha,beta,gamma;
var compassHeading = null;
function handleOrientation(event) {
    if (event.alpha) {
    compassHeading = Math.abs(360 + event.alpha);
  } else {
    compassHeading = null;
  }

  


}

window.addEventListener('deviceorientation', handleOrientation,false);
function render() {
      // effect.render(scene, camera);
      // effectHUD.render(scene, camera);
				renderer.render( scene, camera );

			} 

      function getRandomValue(min, max) {
        return Math.random() * (max - min) + min;
      }



function animate() {
requestAnimationFrame(animate);




//mesh77.position.x += getRandomValue(-0.05, 0.05);
//mesh77.position.y += getRandomValue(-0.05, 0.05);
//update();
renderer.setAnimationLoop( render );


	
if(window.screen.availWidth>=996) {
    if(rotate_check==false) {
        lon += 0.05;
      }}

 else if(window.screen.availWidth<996) {
  if(rotate_check==false) {
    lon += 0.05;
  }
  
}


 
    
     lat = Math.max( - 85, Math.min( 85, lat ) );
phi = THREE.Math.degToRad( 90 - lat );
theta = THREE.Math.degToRad( lon );

camera.target.x = 500 * Math.sin( phi ) * Math.cos( theta );
camera.target.y = 500 * Math.cos( phi );
camera.target.z = 500 * Math.sin( phi ) * Math.sin( theta );

camera.lookAt( camera.target );

				if (compassHeading !== null) {
  if(rotate_check==true) {

   camera.rotation.y = ((-compassHeading * Math.PI) / 180) - Math.PI / 2 ; 
  }
}


//renderer.render(scene, camera);
//labelRenderer.render(scene, camera);

}

}
    </script>

  <script type="module">
		import * as THREE from "three";
		import { ThreeJSOverlayView } from "@googlemaps/three";
		import { GLTFLoader } from "GLTFLoader";
		import { OrbitControls } from "OrbitControls";
	  let map;
	  const mapOptions = {
		tilt: 0,
		heading: 0,
		zoom: 18,
		center: { lat:36.90001723802048, lng:30.646029710769653},
		mapId: "15431d2b469f209e",
		disableDefaultUI: true,
		gestureHandling: "none",
		keyboardShortcuts: false,
	
	  };
	  
	  function initMap() {
		const mapDiv = document.getElementById("map");

	
		map = new google.maps.Map(mapDiv, mapOptions);

		 var directionsService = new google.maps.DirectionsService,
        directionsDisplay = new google.maps.DirectionsRenderer({
            map: map
        });


		const scene = new THREE.Scene();
		const ambientLight2 = new THREE.AmbientLight(0xffffff, 0.75);
	  
		scene.add(ambientLight2);
	  
		const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.25);
	  
		directionalLight2.position.set(0, 10, 50);
		scene.add(directionalLight2);
	  
	
	  
	
		const loader = new GLTFLoader();
		const url =
		  "https://raw.githubusercontent.com/googlemaps/js-samples/main/assets/pin.gltf";

	  
		loader.load(url, (gltf) => {
		  gltf.scene.scale.set(7, 7, 7);
		  gltf.scene.rotation.x = Math.PI / 1;
		  scene.add(gltf.scene);
	  
		  let { tilt, heading, zoom } = mapOptions;
	  
		  const animate2 = () => {
			if (tilt < 67.5) {
			  tilt += 0.5;
			} else if (heading <= 360) {
			  heading += 0.2;
			  zoom -= 0.0002;
			}
			else if (heading >= 360) {
			  heading += 0.2;
			}
			 else {
			  return;
			}

	  
			map.moveCamera({ tilt, heading, zoom });
      requestAnimationFrame(animate2);
	  
    // controls.update();
   };
 

		  requestAnimationFrame(animate2);
		});
		new ThreeJSOverlayView({
		  map,
		  scene,
		  anchor: {   lat: 36.90001723802048, lng: 30.646029710769653, altitude: 50 },
		  THREE,
		});
	  }
	  
	  window.initMap = initMap;
	  
		  </script>
   <script>
    $( document ).ready(function() {
	          document.getElementById("bars").style.left="2px";
      $(".link2").slideToggle("300");
var bars_true=true;
$('.bars').click(function(){

  if(bars_true) {
    document.getElementById("bars").setAttribute("class","fa-solid fa-xmark");
	      document.getElementById("bars").style.left="3px";
    bars_true=false;
  }
 else {
    document.getElementById("bars").setAttribute("class","fa-solid fa-bars");
	     document.getElementById("bars").style.left="2px";
    bars_true=true;
  }
  $(".link2").slideToggle("300");
})
document.getElementById("send").onclick=function() {
  var val=document.getElementById("chat_input").value;
  var div=document.createElement("div");
  div.setAttribute("class","message my-message");
  div.innerHTML=val;
  document.getElementById("chat_messages").appendChild(div);
  var element = document.getElementById("chat_box_body");
  element.scrollTo(0,element.scrollHeight);
  document.getElementById("chat_input").value="";
}

document.getElementById("chat_input").onkeydown=function(event) {
  if(event.keyCode==13){
    window.setTimeout(function() {
      document.getElementById("send").click();
    },10);

  }
}

document.getElementsByTagName("textarea")[0].onclick=function() {
  this.focus();
}
var menu_check=false;
document.getElementById("message-delek").onclick=function() {
  $("#message-delek").slideToggle("300");

 $(".chat-box").slideToggle("300").end(document.getElementsByClassName("chat-box")[0].style.display="flex");
}
$("#exit").click(function() {
  $(".chat-box").slideToggle("300").end(
    $("#message-delek").slideToggle("300")
  );
})
$("#img1").click(function() {
  $("#menu-1").slideToggle("300");
});
$("#p").click(function() {
  if(menu_check==false) {
      document.getElementById("menu-down").setAttribute("class","fa-solid fa-circle-chevron-down");
      menu_check=true;
    }
    else {
      document.getElementById("menu-down").setAttribute("class","fa-solid fa-circle-chevron-left");
      menu_check=false;
    }
  $("#menu-1").slideToggle("300");
});
$("#menu-down").click(function() {
    if(menu_check==false) {
      document.getElementById("menu-down").setAttribute("class","fa-solid fa-circle-chevron-down");
      menu_check=true;
    }
    else {
      document.getElementById("menu-down").setAttribute("class","fa-solid fa-circle-chevron-left");
      menu_check=false;
    }
  $("#menu-1").slideToggle("300");
});


var expand_check=false;
$(".expand").click(function() {
  if(expand_check==false) {
    document.documentElement.webkitRequestFullscreen();
    document.getElementById("expand").setAttribute("class","fa-solid fa-compress")
    expand_check=true;
  }
  else {
    document.exitFullscreen();
    document.getElementById("expand").setAttribute("class","fa-solid fa-expand")
    expand_check=false;
  }
});

$(".location").click(function() {
  if(screen.availWidth>480) {
    gsap.to("#google-map", { 
  duration: 2, // Duration of the animation in seconds
  width: "40%", // The final width value you want to animate to
  ease: "power2.out" // Easing function for a smoother animation (you can choose a different one if you prefer)
});
  }
else if(screen.availWidth<=480) {
  gsap.to("#google-map", { 
  duration: 2, // Duration of the animation in seconds
  height: "85%", // The final width value you want to animate to
  ease: "power2.out" // Easing function for a smoother animation (you can choose a different one if you prefer)
});
}
});

$(".map-exit").click(function() {
  if(screen.availWidth>480) {
    gsap.to("#google-map", { 
  duration: 2, // Duration of the animation in seconds
  width: "0%", // The final width value you want to animate to
  ease: "power2.out" // Easing function for a smoother animation (you can choose a different one if you prefer)
});
  }
else if(screen.availWidth<=480) {
  gsap.to("#google-map", { 
  duration: 2, // Duration of the animation in seconds
  height: "0%", // The final width value you want to animate to
  ease: "power2.out" // Easing function for a smoother animation (you can choose a different one if you prefer)
});
}
});
var map_change_check=false;
$("#map-change").click(function() {
if(map_change_check==false) {
  document.getElementById("map").style.display="none";
  document.getElementById("map-2").style.display="block";
  document.getElementById("map-change").innerHTML="3D map";
  map_change_check=true;
}
else {
     document.getElementById("map-2").style.display="none";
   document.getElementById("map").style.display="block";
  document.getElementById("map-change").innerHTML="normal map";
  map_change_check=false;
}
});
$("#copy-i").click(function() {
  navigator.clipboard.writeText("https://3d.emirkorkut.com");
  document.getElementById("copy-i").setAttribute("class","fa-solid fa-check-double");
});
$(".share").click(function() {
    if(window.screen.availWidth<=558) {
  document.getElementById("copy-page").style.display="block";
  gsap.to("#copy-page", { 
  duration: 2, // Duration of the animation in seconds
  bottom: "0%", // The final width value you want to animate to
  ease: "power2.out" // Easing function for a smoother animation (you can choose a different one if you prefer)
});
    }
    else {
  document.getElementById("copy-page").style.display="block";
  gsap.to("#copy-page", { 
  duration: 2, // Duration of the animation in seconds
  bottom: "3%", // The final width value you want to animate to
  ease: "power2.out" // Easing function for a smoother animation (you can choose a different one if you prefer)
});
    }
});

$("#copy-exit").click(function() {
  gsap.to("#copy-page", { 
  duration: 2, // Duration of the animation in seconds
  bottom: "-30%", // The final width value you want to animate to
  ease: "power2.out",
  onComplete() {
     document.getElementById("copy-page").style.display="none";
    } // Easing function for a smoother animation (you can choose a different one if you prefer)
});
});
});
   </script>
   <div class="out-box">
   <div id="div1">
    <img id="img1" src="resim2.png">
    <p id="p">Alanya 4+1</p>
    <i id="menu-down" class="fa-solid fa-circle-chevron-left"></i>
     <li id="limk"><span>kültür street</span></li>
     <div id="menu-1">
      <a href="/house-2" style="text-decoration:none;"><span>Konyaaltı 3+1</span></a>
      <span>Manavgat 3+1</span>
      <span id="last-span">Kaş 4+1</span>
     </div>
     </div>
     <div id="google-map">
      <button id="map-change">normal map</button>
      <div id="map-exit" class="map-exit" ><i class="fa-solid fa-xmark"></i></div>
      <div id="map" class="map"></div>

      <script
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCPMcohZr9rLMh_VnqQkSV8l4RKI2I0YAs&callback=initMap&v=beta"
      defer
      ></script>
      <iframe id="map-2" style="display: none;" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=36.90005584658721,30.64594924449921+(EMIRKORKUT.com)&amp;t=&amp;z=16&amp;ie=UTF8&amp;iwloc=B&amp;output=embed" loading="lazy"></iframe>
     </div>
        <div class="chat-box" id="chat-box">
          <div class="chat-box-header">
            <img id="chat-img" src="apartments.png">
            <!--<i class="fa-solid fa-city"></i>-->
            <h3>Chat whit us now<br /><small></small></h3>
            <div id="div2"><i id="exit" class="fa-solid fa-circle-chevron-down"></i></div>
          </div>
          <div id="chat_box_body" class="chat-box-body">
            <div id="chat_messages">
              <div class="profile other-profile">
               
              </div>
              <div class="message other-message">
                Hello!
              </div>
              <div class="profile my-profile">
            </div>
        
              <div class="message my-message">
                How are you!
              </div>
            </div>
          </div>
          <div id="typing">
            <div><span></span> <span></span> <span></span> <span class="n">Someone</span> is typing...</div>
          </div>
          <div class="chat-box-footer">
            <textarea id="chat_input" placeholder="Enter your message here..."></textarea>
            <button id="send">
              <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                <path fill="#006ae3" d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />
              </svg>
            </button>
          </div>
        </div>
        <div id="message-delek">
          <i id="comments" class="fa-solid fa-comments"></i>
        </div>
    
        <div id="delek">
            <div id="link" class="bars"><i id="bars" class="fa-solid fa-bars"></i></div>
            <div id="link" class="cardboard link2" ><i class="fa-solid fa-vr-cardboard"></i></div>
            <div id="link" class="rotate link2" ><img id="img-rotate" src="rotation.png"></div>
            <div id="link" class="expand link2"><i id="expand" class="fa-solid fa-expand"></i></div> <!-- compress -->
            <div id="link" class="location link2" ><i class="fa-solid fa-map"></i></div>
            <div id="link" class="voice link2" ><img id="img-rotate-2" src="musical-note.png"></div>
            <div id="link" class="share link2" ><i class="fa-solid fa-share-nodes"></i></div>
            <div id="link" class="camera link2"><i class="fa-solid fa-camera"></i></div>
           </div>
           <style>
            #copy-page {
              position: absolute;
              z-index: 1000;
              left:50%;
              bottom:-30%;
              transform: translate(-50%, 3%);
              height: 200px;
              width: 600px;
              background: black;
              opacity: 0.8;
              border-radius: 10px;
              display: none;
		    cursor:default;
            }
            #copy-page  img {
              position: absolute;
              left:10px;
              top:10px;
              height: 180px;
              width: 180px;
            }
            #copy-page #input-1 {
              position: absolute;
              left:60%;
              top:15px;
              transform: translateX(-50%);
              width: 280px;
              height: 30px;
              outline: none;
              border-radius: 5px;
              font-family: 'Times New Roman', Times, serif;
              font-size:20px;
            }
            #copy-page #copy-i {
              position: absolute;
              top:10px;
              left:83%;
	      cursor:pointer;
 
            }
            #copy-detail {
              position: absolute;
              top:60px;
              background: transparent;
              left:35%;
              height: 130px;
              width: 50%;
              display: inline-block;
            }
            #copy-i1 {
              display: inline-block;
              margin:10px;
              position: relative;
	      cursor:pointer;
            }
            #copy-exit {
    position: absolute;
    right: -15px;
    top: -15px;
    z-index: 1000;
    height: 40px;
    width: 40px;
    background: whitesmoke;
    opacity: 0.8;
    border-radius: 50%;
    border:2px solid white;
    text-align: center;
		    cursor:pointer;
  }
  #copy-exit i {
    color:black;
    text-align: center;
    left:27%;
    top:30%;
    transform: translate(-50%,-50%);
  }
  #copy-detail .fa-facebook:hover {
    color:#1877f2;
  }
  #copy-detail .fa-twitter:hover {
    color:#1da1f2;
  }
  #copy-detail .fa-instagram:hover {
    color: #c32aa3;
  }
  #copy-detail .fa-linkedin:hover {
    color:#0a66c2;
  }
  #copy-detail .fa-youtube:hover {
    color: #ff0000;
  }
  #copy-detail .fa-tiktok:hover {
    color:#c32aa3;
  }
  #copy-detail .fa-whatsapp:hover {
    color:#25d366;
  }
  #copy-detail .fa-pinterest:hover {
    color: #bd081c;
  }
  #copy-detail .fa-envelope:hover {
    color: #1da1f2;
  }
  #copy-detail .fa-phone:hover {
    color: #25d366;
  }
  @media (max-width: 558px) {
    #copy-page {
      width: 100%;
      height: 32%;

	    		
    }
    #copy-page  img {
      top:60px;
    }
    #copy-page #input-1 {
      top:15px;
      left:40%;
      width: 320px;
    }
    #copy-page #copy-i {
      left:77%;
    }
    #copy-detail {
      left:40%;
    }
    #copy-exit {
      right: 0;
      top:-15px;
	    	    cursor:pointer;

    }
  }
  @media screen and (min-device-width: 558px) and (max-device-width: 700px) { 
    #copy-page {
      width: 550px;
      height: 200px;
    }
    #copy-page  img {
      top:10px;
    }
    #copy-page #input-1 {
      top:15px;
      left:320px;
      width: 250px;
    }
    #copy-page #copy-i {
      left:82%;
    }
    #copy-detail {
      left:40%;
    }
    #copy-exit {
      right: 0;
      top:-15px;
	    	    cursor:pointer;

    }
  }
  @media (max-width: 425px) {
    #copy-page {
      width: 100%;
      height: 32%;
    }
    #copy-page  img {
      top:60px;
    }
    #copy-page #input-1 {
      top:15px;
      left:40%;
      width: 270px;
    }
    #copy-page #copy-i {
      left:77%;
    }
    #copy-detail {
      left:44%;
    }
    #copy-exit {
      right: 0;
      top:-15px;
	    cursor:pointer;
    }
  }
          </style>
         <div id="copy-page">
          <div id="copy-exit" class="map-exit" ><i class="fa-solid fa-xmark"></i></div>
  <img src="qr.png">
  <input id="input-1" type="text" value="https://3d.emirkorkut.com" required readonly/><i id="copy-i" class="fa-solid fa-copy"></i>
  <div id="copy-detail">
    <i id="copy-i1" class="fa-brands fa-facebook"></i>
    <i id="copy-i1" class="fa-brands fa-twitter"></i>
    <i id="copy-i1" class="fa-brands fa-instagram"></i>
    <i id="copy-i1" class="fa-brands fa-linkedin"></i>
    <i id="copy-i1" class="fa-brands fa-youtube"></i>
    <i id="copy-i1" class="fa-brands fa-pinterest"></i>
    <i id="copy-i1" class="fa-brands fa-whatsapp"></i>
    <i id="copy-i1" class="fa-brands fa-tiktok"></i>
    <i id="copy-i1" class="fa-solid fa-envelope"></i>
    <i id="copy-i1" class="fa-solid fa-phone"></i>
  </div>
         </div>
	    <style>
   .container {
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: row;
  margin: 0 auto;
  width: 100px;
  z-index: 1000;
  position: absolute;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%);
}

@-webkit-keyframes rotate {
  0% {
    transform: rotateX(-37.5deg) rotateY(45deg);
  }
  50% {
    transform: rotateX(-37.5deg) rotateY(405deg);
  }
  100% {
    transform: rotateX(-37.5deg) rotateY(405deg);
  }
}

@keyframes rotate {
  0% {
    transform: rotateX(-37.5deg) rotateY(45deg);
  }
  50% {
    transform: rotateX(-37.5deg) rotateY(405deg);
  }
  100% {
    transform: rotateX(-37.5deg) rotateY(405deg);
  }
}
.cube,
.cube * {
  position: absolute;
  width: 151px;
  height: 151px;
  scale: 0.8;
}

.sides {
  -webkit-animation: rotate 3s ease infinite;
          animation: rotate 3s ease infinite;
  -webkit-animation-delay: 0.8s;
          animation-delay: 0.8s;
  transform-style: preserve-3d;
  transform: rotateX(-37.5deg) rotateY(45deg);
}

.cube .sides * {
  box-sizing: border-box;
  /*background-color: rgba(242, 119, 119, 0.5);*/
  background-color: rgba(181, 110, 0, 0.5);
  border: 15px solid white;
}

.cube .sides .top {
  -webkit-animation: top-animation 3s ease infinite;
          animation: top-animation 3s ease infinite;
  -webkit-animation-delay: 0ms;
          animation-delay: 0ms;
  transform: rotateX(90deg) translateZ(150px);
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
  transform-origin: 50% 50%;
}
@-webkit-keyframes top-animation {
  0% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(150px);
  }
}
@keyframes top-animation {
  0% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateX(90deg) translateZ(150px);
  }
}
.cube .sides .bottom {
  -webkit-animation: bottom-animation 3s ease infinite;
          animation: bottom-animation 3s ease infinite;
  -webkit-animation-delay: 0ms;
          animation-delay: 0ms;
  transform: rotateX(-90deg) translateZ(150px);
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
  transform-origin: 50% 50%;
}
@-webkit-keyframes bottom-animation {
  0% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(150px);
  }
}
@keyframes bottom-animation {
  0% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateX(-90deg) translateZ(150px);
  }
}
.cube .sides .front {
  -webkit-animation: front-animation 3s ease infinite;
          animation: front-animation 3s ease infinite;
  -webkit-animation-delay: 100ms;
          animation-delay: 100ms;
  transform: rotateY(0deg) translateZ(150px);
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
  transform-origin: 50% 50%;
}
@-webkit-keyframes front-animation {
  0% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(150px);
  }
}
@keyframes front-animation {
  0% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(0deg) translateZ(150px);
  }
}
.cube .sides .back {
  -webkit-animation: back-animation 3s ease infinite;
          animation: back-animation 3s ease infinite;
  -webkit-animation-delay: 100ms;
          animation-delay: 100ms;
  transform: rotateY(-180deg) translateZ(150px);
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
  transform-origin: 50% 50%;
}
@-webkit-keyframes back-animation {
  0% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(150px);
  }
}
@keyframes back-animation {
  0% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(-180deg) translateZ(150px);
  }
}
.cube .sides .left {
  -webkit-animation: left-animation 3s ease infinite;
          animation: left-animation 3s ease infinite;
  -webkit-animation-delay: 100ms;
          animation-delay: 100ms;
  transform: rotateY(-90deg) translateZ(150px);
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
  transform-origin: 50% 50%;
}
@-webkit-keyframes left-animation {
  0% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(150px);
  }
}
@keyframes left-animation {
  0% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(-90deg) translateZ(150px);
  }
}
.cube .sides .right {
  -webkit-animation: right-animation 3s ease infinite;
          animation: right-animation 3s ease infinite;
  -webkit-animation-delay: 100ms;
          animation-delay: 100ms;
  transform: rotateY(90deg) translateZ(150px);
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
  transform-origin: 50% 50%;
}
@-webkit-keyframes right-animation {
  0% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(150px);
  }
}
@keyframes right-animation {
  0% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(150px);
  }
  20% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(75px);
  }
  70% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(75px);
  }
  90% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(150px);
  }
  100% {
    opacity: 1;
    transform: rotateY(90deg) translateZ(150px);
  }
}


        </style>
	          <div class="container">
          <div class="cube">
            <div class="sides">
              <div class="top"></div>
              <div class="right"></div>
              <div class="bottom"></div>
              <div class="left"></div>
              <div class="front"></div>
              <div class="back"></div>
            </div>
          </div>
        </div>
        </div>
</body>
</html>